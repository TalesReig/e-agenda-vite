var c=Object.defineProperty;var n=(r,e,a)=>e in r?c(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a;var i=(r,e,a)=>(n(r,typeof e!="symbol"?e+"":e,a),a);import"./modulepreload-polyfill.c7c6310f.js";import{E as l}from"./entidade.model.7c8b214e.js";import{T as h}from"./tarefa.repository.local-storage.a94853ff.js";import"./guid.model.16afb711.js";var o=(r=>(r.Baixa="Baixa",r.M\u00E9dia="M\xE9dia",r.Alta="Alta",r))(o||{});class d extends l{constructor(a,t,s){super();i(this,"descricao");i(this,"dataCriacao");i(this,"dataConclusao");i(this,"prioridade");s&&(this.id=s),this.descricao=a,this.dataCriacao=new Date(Date.now()),this.dataConclusao="Em Aberto",this.prioridade=t}}class u{constructor(e,a){i(this,"txtDescricao");i(this,"btnSalvar");i(this,"rdbPrioridade");i(this,"idSelecionado");if(this.repositorioTarefas=e,this.configurarElementos(),a){this.idSelecionado=a;const t=this.repositorioTarefas.selecionarPorId(a);t&&this.preencherFormulario(t)}}configurarElementos(){this.txtDescricao=document.getElementById("txtDescricao"),this.btnSalvar=document.getElementById("btnSalvar"),this.btnSalvar.addEventListener("click",e=>{this.gravarRegistro()})}gravarRegistro(){const e=this.obterDadosFormulario();this.idSelecionado?this.repositorioTarefas.editar(e.id,e):this.repositorioTarefas.inserir(e),window.location.href="tarefa.list.html"}preencherFormulario(e){switch(this.txtDescricao.value=e.descricao,e.prioridade){case o.Baixa:this.rdbPrioridade=document.querySelector("input[value='Baixa']");break;case o.Baixa:this.rdbPrioridade=document.querySelector("input[value='M\xE9dia']");break;case o.Baixa:this.rdbPrioridade=document.querySelector("input[value='Alta']");break}this.rdbPrioridade.checked=!0}obterDadosFormulario(){const e=this.txtDescricao.value,a=this.obterPrioridqadeSelecionada();let t=null;return this.idSelecionado?t=new d(e,a,this.idSelecionado):t=new d(e,a),t}obterPrioridqadeSelecionada(){return document.querySelector('input[type="radio"]:checked').value}}const m=new URLSearchParams(window.location.search),p=m.get("id");new u(new h,p);
